<!DOCTYPE html> 
<html> 
<head> 
	<title>Blueprint</title> 
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<link rel='stylesheet' type='text/css' href='fullcalendar/fullcalendar.css' />
    <link rel='stylesheet' type='text/css' href='fullcalendar/fullcalendar.print.css' media='print' />
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
	<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
	<script type='text/javascript' src='fullcalendar/jquery-ui-1.8.23.custom.min.js'></script>
	<script type='text/javascript' src='fullcalendar/fullcalendar.js'></script>
	<script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
	<script type='text/javascript'>

	$(document).ready(function() {
	
		var date = new Date();
		var d = date.getDate();
		var m = date.getMonth();
		var y = date.getFullYear();
		
		$('#calendar').fullCalendar({
			header: {
				left: 'prev,next today',
				center: 'title',
				right: 'month,agendaWeek,agendaDay'
			},
			
			eventClick: function(calEvent, jsEvent, view) {
        
		
		console.log(calEvent.title);
        // change the border color just for fun
        $(this).css('border-color', 'red');
		$('#task_desc').html(calEvent.title);
		$('#popupPanel').popup("open");

    }, 
			
			editable: true,
			events: [
				{
					title: 'All Day Event',
					start: new Date(y, m, 1)
				},
				{
					title: 'Long Event',
					start: new Date(y, m, d-5),
					end: new Date(y, m, d-2)
				},
				{
					id: 999,
					title: 'Repeating Event',
					start: new Date(y, m, d-3, 16, 0),
					allDay: false
				},
				{
					id: 999,
					title: 'Repeating Event',
					start: new Date(y, m, d+4, 16, 0),
					allDay: false
				},
				{
					title: 'Meeting',
					start: new Date(y, m, d, 10, 30),
					allDay: false
				},
				{
					title: 'Lunch',
					start: new Date(y, m, d, 12, 0),
					end: new Date(y, m, d, 14, 0),
					allDay: false
				},
				{
					title: 'Birthday Party',
					start: new Date(y, m, d+1, 19, 0),
					end: new Date(y, m, d+1, 22, 30),
					allDay: false
				},
				{
					title: 'Click for Google',
					start: new Date(y, m, 28),
					end: new Date(y, m, 29),
				}
			]
		});
		
	});

</script>

<script type='text/javascript'>

$( document ).on( "pageinit", function() {
    $( "#chinab" ).on({
        popupbeforeposition: function() {
            var maxHeight = $( window ).height() - 60 + "px";
            $( "#chinab" ).css( "max-height", maxHeight );
        }
    });
});


$('#calendar').fullCalendar({
    
});

</script>

<style type='text/css'>

	body {
		margin-top: 40px;
		text-align: center;
		font-size: 14px;
		font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
		}

	#calendar {
		margin: 0 auto;
		}

	#popupPanel-popup {
    right: 0 !important;
    left: auto !important;
	}

	#popupPanel {
		width: 200px;
		border: 1px solid #000;
		border-right: none;
		background: rgba(0,0,0,.5);
		margin: -1px 0;
	}
	#popupPanel .ui-btn {
		margin: 2em 15px;
	}
		
</style>
</head> 
<body> 

<div data-role="page">
	<div data-role="header" data-theme="b">
		<h1>Welcome to Blueprint</h1>
		<div data-role="controlgroup" data-type="horizontal">
			<div class="ui-btn-right">
				<a href="index.html" data-icon="gear" data-role="button" data-theme="d">Settings</a>
				<a href="#chinab" data-icon="plus" data-role="button" data-rel="popup" data-theme="d">Add Task</a>
			</div>
			
			
<div data-role="popup" id="chinab">
    <div data-role="content">
        <form action="">
            <div data-role="fieldcontain">
                    <label for="description">
                        Description
                    </label>
                    <input name="description" id="description" placeholder="Enter task description"
                    value="" type="text">
            </div>
            <div data-role="fieldcontain">
                    <label for="textinput2">
                        Deadline
                    </label>
                    <input name="" id="textinput2" placeholder="" value="" type="date">
            </div>
            <div data-role="fieldcontain" class="ui-grid-b ui-br">
            	<div class="ui-block-a">
                    <label for="textinput3">
                        Task Length
                    </label>
                </div>
                <div class="ui-block-b">
                    <input name="" id="textinput3" placeholder="" value="" type="text">
                </div>
                <div class="ui-block-c">
                    <label for="selectmenu3">
                </label>
                <select name="">
                    <option value="option1">
                        minutes
                    </option>
                    <option value="value">
                        hours
                    </option>
                    <option value="value">
                        days
                    </option>
                </select>
            	</div>
            </div>
            <div data-role="fieldcontain">
            	<fieldset data-role="controlgroup" data-type="horizontal">
                    <legend>
                        Priority:
                    </legend>
                    <input id="radio2" name="" value="radio1" type="radio" checked="checked">
                    <label for="radio2">
                        	High
                    </label>
                    <input id="radio3" name="" value="radio3" type="radio">
                    <label for="radio3">
                    	Medium
                    </label>
                    <input id="radio4" name="" value="radio4" type="radio">
                    <label for="radio4">
                        Low
                    </label>
                </fieldset>
        	</div>
        <input type="submit" value="Add task">
        </form>
    </div>  
</div>
			
			
			
		<!--	<div data-role="popup" id="chinab">
				<p>This is a completely basic popup, no options set.<p>
			</div>
			-->
		</div><!-- /controlgroup -->
	</div><!-- /header -->

	
	
	
	
	
	
	<div data-role="content" id='calendar'>		
			
		<a href="#popupPanel" data-rel="popup" data-transition="slide" data-position-to="window" data-role="button">Open panel</a>
				
		<div data-role="popup" id="popupPanel" data-corners="false" data-theme="none" data-shadow="false" data-tolerance="0,0">

		<div id="task_desc"></div>
		<button data-theme="a" data-icon="grid" data-mini="true">Week View</button>
		<button data-theme="a" data-icon="search" data-mini="true">Month View</button>
		 
		</div>
	
	</div><!-- /content -->

	
	<div data-role="footer" data-theme="b"> 
		<div data-role="navbar">
			<ul>
				<li><a href="">Day View</a></li>
				<li><a href="">Week View</a></li>
				<li><a href="">Month View</a></li>
			</ul>
		</div><!-- /navbar -->
	</div> <!--/footer-->
</div><!-- /page -->

</body>
</html>